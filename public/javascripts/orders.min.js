"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),function(){var e=function(e){var i=parseInt(e.currentTarget.getAttribute("data-order-index"),10),n=s[i];cityssm.openHtmlModal("order-view",{onshow:function(e){e.getElementsByClassName("order--orderNumber")[0].innerText=n.orderNumber;var s=e.getElementsByClassName("order--statusMessage")[0];n.orderIsRefunded?(s.classList.add("is-warning"),s.innerHTML='<div class="message-body"><strong>This order has been marked as refunded.</strong></div>'):n.orderIsPaid?(s.classList.add("is-success"),s.innerHTML='<div class="message-body"><p class="has-text-weight-bold">This order has been marked as paid.</p></div>'):(s.classList.add("is-danger"),s.innerHTML='<div class="message-body"><strong>This order has been marked as unpaid.</strong></div>'),e.getElementsByClassName("order--shippingName")[0].innerText=n.shippingName,e.getElementsByClassName("order--shippingAddress")[0].innerHTML=cityssm.escapeHTML(n.shippingAddress1)+"<br />"+(n.shippingAddress2?cityssm.escapeHTML(n.shippingAddress2)+"<br />":"")+cityssm.escapeHTML(n.shippingCity)+", "+cityssm.escapeHTML(n.shippingProvince)+"<br />"+cityssm.escapeHTML(n.shippingPostalCode)+" &nbsp;"+cityssm.escapeHTML(n.shippingCountry),e.getElementsByClassName("order--shippingEmailAddress")[0].innerHTML='<a href="mailto:'+cityssm.escapeHTML(n.shippingEmailAddress)+'">'+n.shippingEmailAddress+"</a>",e.getElementsByClassName("order--shippingPhoneNumberDay")[0].innerText=n.shippingPhoneNumberDay,e.getElementsByClassName("order--shippingPhoneNumberEvening")[0].innerText=n.shippingPhoneNumberEvening},onshown:function(e,s){}})},s=null,i=document.getElementById("container--results"),n=function(s,i){var n=document.createElement("a");n.className="panel-block is-block",n.href="#"+s.orderID.toString(),n.setAttribute("data-order-index",i.toString()),n.addEventListener("click",e);var r=new Date(s.orderTime),a="";return a=s.orderIsRefunded?'<span class="tag is-warning">Refunded</span>':s.orderIsPaid?'<span class="tag is-success">Paid</span>':'<span class="tag is-danger">Unpaid</span>',n.innerHTML='<div class="columns is-mobile is-multiline"><div class="column is-narrow is-vcentered"><span class="icon m-2">'+(function(e){for(var s=0,i=e.items;s<i.length;s++)if(!i[s].itemIsAcknowledged)return!1;return!0}(s)?'<i class="fas fa-3x fa-check-square is-success" title="Acknowledged"></i>':'<i class="far fa-3x fa-square" title="Not Acknowledged"></i>')+'</span></div><div class="column"><strong>'+cityssm.escapeHTML(s.orderNumber)+"</strong><br />"+cityssm.dateToString(r)+" "+cityssm.dateToTimeString(r)+' </div><div class="column is-full-mobile is-narrow has-text-right">'+a+"</div></div>",n},r=document.getElementById("form--filters"),a=function(){cityssm.clearElement(i),i.innerHTML='<div class="has-text-centered p-4"><span class="icon"><i class="fas fa-4x fa-spinner fa-pulse" aria-hidden="true"></i></span></div>',cityssm.postJSON("/orders/doGetOrders",r,function(e){s=e.orders,function(){if(0!==s.length){var e=document.createElement("div");e.className="panel has-background-white";for(var r=0;r<s.length;r+=1){var a=n(s[r],r);e.appendChild(a)}cityssm.clearElement(i),i.appendChild(e)}else i.innerHTML='<div class="message is-info"><div class="message-body">There are no orders available that meet your search criteria.</div></div>'}()})};a(),document.getElementById("filter--productSKU").addEventListener("change",a),document.getElementById("filter--orderStatus").addEventListener("change",a)}();